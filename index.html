<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Item Lua Converter - Multi Format</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>üîß Item Lua Converter</h1>
        <p class="subtitle">Convert standard item.lua files to multiple formats</p>
        
        <!-- Navigation Tabs -->
        <div class="nav-tabs">
            <button class="nav-tab active" data-tab="converter">Converter</button>
            <button class="nav-tab" data-tab="builder">Item Builder</button>
            <button class="nav-tab" data-tab="resizer">Image Resizer</button>
        </div>
        
        <!-- Converter Tab -->
        <div id="converter-tab" class="tab-content active">
        <div class="format-selector">
            <h3>Choose Output Format:</h3>
            <div class="format-options">
                <label class="format-option">
                    <input type="radio" name="format" value="original" checked>
                    <div class="format-name">Original Block</div>
                    <div class="format-description">Standard QBShared.Items format</div>
                    <div class="format-preview">['item'] = { name = 'item', label = 'Item' }</div>
                </label>
                
                <label class="format-option recommended">
                    <input type="radio" name="format" value="minimal">
                    <div class="format-name">Optimized ‚≠ê</div>
                    <div class="format-description">Smallest possible file size - Recommended</div>
                    <div class="format-preview">add_item('item', 'Item', 100, 'item', 'item.png')</div>
                </label>
                
                <label class="format-option">
                    <input type="radio" name="format" value="compact">
                    <div class="format-name">Compact Pipe</div>
                    <div class="format-description">Pipe-separated single line format</div>
                    <div class="format-preview">item | Item | 100 | item | item.png | false | true</div>
                </label>
                
                <label class="format-option">
                    <input type="radio" name="format" value="json">
                    <div class="format-name">JSON Format</div>
                    <div class="format-description">Clean JSON structure for APIs</div>
                    <div class="format-preview">{"QBShared": {"Items": {"item": {...}}}}</div>
                </label>
                
                <label class="format-option">
                    <input type="radio" name="format" value="csv">
                    <div class="format-name">CSV Format</div>
                    <div class="format-description">Comma-separated for spreadsheets</div>
                    <div class="format-preview">key,name,label,weight,type,image</div>
                </label>
            </div>
        </div>
        
        <div class="format-info" id="formatInfo">
            <h4>Original Block Format</h4>
            <p>Standard QBShared.Items format with full table structure. Best for compatibility and readability.</p>
        </div>
        
        <div class="upload-area" id="uploadArea">
            <div class="upload-icon">üìÅ</div>
            <div class="upload-text">Drop your item.lua file here</div>
            <div class="upload-hint">or click to browse</div>
        </div>
        
        <input type="file" id="fileInput" accept=".lua" />
        
        <div class="file-info" id="fileInfo">
            <div class="file-name" id="fileName"></div>
            <div class="file-size" id="fileSize"></div>
        </div>
        
        <div class="clipboard-section">
            <div class="clipboard-header">
                <h4>üìã Or paste from clipboard</h4>
                <p>Copy your Lua code and paste it here for instant conversion</p>
            </div>
            <textarea id="clipboardInput" placeholder="Paste your Lua item definitions here..."></textarea>
            <button id="convertClipboard" class="convert-btn">Convert Clipboard Content</button>
        </div>
        
        <button class="convert-btn" id="convertBtn" disabled>Convert to Customizer Format</button>
        
        <div class="progress" id="progress">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        
        <div class="result" id="result">
            <h3>‚úÖ Conversion Complete!</h3>
            <p>Your file has been converted successfully.</p>
            <div class="result-actions">
                <button class="download-btn" id="downloadBtn">üì• Download converted-items.lua</button>
                <button class="copy-btn" id="copyBtn">üìã Copy to Clipboard</button>
                <button class="view-diff-btn" id="viewDiffBtn">üîç View Changes</button>
            </div>
        </div>
        
        <div class="error" id="error">
            <strong>Error:</strong> <span id="errorMessage"></span>
        </div>
        
        <div class="stats" id="stats" style="display: none;">
            <div class="stat">
                <div class="stat-number" id="totalItems">0</div>
                <div class="stat-label">Items Converted</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="outputSize">0 KB</div>
                <div class="stat-label">Output Size</div>
            </div>
        </div>
        </div>
        
        <!-- Item Builder Tab -->
        <div id="builder-tab" class="tab-content">
            <div class="builder-section">
                <h3>üî® Item Builder</h3>
                <p class="section-description">Create new items with a custom template</p>
                
                <div class="builder-form">
                    <div class="form-group">
                        <label for="itemName">Item Name:</label>
                        <input type="text" id="itemName" placeholder="e.g., my_custom_item" required>
                        <small class="field-help">Unique identifier for the item (snake_case format)</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="itemLabel">Item Label:</label>
                        <input type="text" id="itemLabel" placeholder="e.g., My Custom Item" required>
                        <small class="field-help">Display name shown to players in-game</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="itemWeight">Weight:</label>
                        <input type="number" id="itemWeight" value="25" min="0" step="1">
                        <small class="field-help">Item weight in grams (affects inventory capacity)</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="itemType">Type:</label>
                        <select id="itemType">
                            <option value="item">item</option>
                            <option value="weapon">weapon</option>
                            <option value="ammo">ammo</option>
                            <option value="drug">drug</option>
                            <option value="food">food</option>
                            <option value="drink">drink</option>
                        </select>
                        <small class="field-help">Item category (affects behavior and usage)</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="itemImage">Image Filename:</label>
                        <input type="text" id="itemImage" placeholder="e.g., myitem.png" required>
                        <small class="field-help">Image file name (should be 100x100 pixels)</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="itemUnique">Unique:</label>
                        <select id="itemUnique">
                            <option value="false">false</option>
                            <option value="true">true</option>
                        </select>
                        <small class="field-help">Can player have multiple of this item?</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="itemUseable">Useable:</label>
                        <select id="itemUseable">
                            <option value="true">true</option>
                            <option value="false">false</option>
                        </select>
                        <small class="field-help">Can player use/consume this item?</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="itemDescription">Description:</label>
                        <textarea id="itemDescription" placeholder="Enter item description...">this item was created with kuro samas custom tool.</textarea>
                        <small class="field-help">Tooltip text shown when hovering over item</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="builderFormat">Output Format:</label>
                        <select id="builderFormat">
                            <option value="original">Original Block</option>
                            <option value="minimal" selected>Optimized ‚≠ê</option>
                            <option value="compact">Compact Pipe</option>
                            <option value="json">JSON</option>
                            <option value="csv">CSV</option>
                        </select>
                    </div>
                    
                    <button id="buildItemBtn" class="btn btn-primary">Build Item</button>
                </div>
                
                <div id="builderResult" class="result" style="display: none;">
                    <h4>Generated Item:</h4>
                    <pre id="builderOutput"></pre>
                    <div class="result-actions">
                        <button id="downloadBuilderBtn" class="btn btn-primary">
                            <span>üì•</span> Download Item
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Image Resizer Tab -->
        <div id="resizer-tab" class="tab-content">
            <div class="resizer-section">
                <h3>üñºÔ∏è Image Resizer</h3>
                <p class="section-description">Resize images to 100x100 pixels for QBCore items</p>
                
                <div class="resizer-area" id="resizerArea">
                    <div class="resizer-content">
                        <div class="resizer-icon">üìÅ</div>
                        <p>Drag & drop images here or click to select</p>
                        <p class="resizer-hint">Supports: PNG, JPG, JPEG, GIF</p>
                    </div>
                    <input type="file" id="resizerInput" multiple accept="image/*" style="display: none;">
                </div>
                
                <div id="resizerProgress" class="progress" style="display: none;">
                    <div class="progress-bar" id="resizerProgressBar"></div>
                </div>
                
                <div id="resizerResults" class="resizer-results" style="display: none;">
                    <h4>Resized Images:</h4>
                    <div id="resizerImages"></div>
                    <button id="downloadAllBtn" class="btn btn-primary">Download All</button>
                </div>
            </div>
        </div>
    </div>

    <script src="converter.js"></script>
</body>
</html>
